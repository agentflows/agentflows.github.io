<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ArXiv Paper Searcher Tool</title>

  <!-- Reuse the same CSS from index.html -->
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">
  <link rel="stylesheet" href="../../static/css/bulma.min.css">
  <link rel="stylesheet" href="../../static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="../../static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="../../static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="../../static/css/index.css">
</head>

<body>
  <!-- Tool Header -->
  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-2">ArXiv Paper Searcher Tool</h1>
            <p class="subtitle is-4">A tool that searches arXiv for papers based on a given query.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Tool Metadata -->
  <section class="section">
    <div class="container is-max-desktop">
        <h2 class="title is-4" id="metadata">Tool Metadata</h2>
      <div class="box">
        <div class="content" id="metadata-content">
          <!-- Content will be populated by JavaScript -->
        </div>
      </div>
    </div>
  </section>

  <!-- Example Images -->
  <section class="section">
    <div class="container is-max-desktop">
      <h2 class="title is-4" id="example">Example Usage</h2>
      <div class="columns is-centered mb-4">
        <div class="column is-narrow">
          <button class="button is-primary" onclick="toggleImage()">Switch Example</button>
        </div>
      </div>
      <div class="box" style="width: 90%; margin: 0 auto;">
        <figure class="image">
          <img id="exampleImage" src="example.png">
        </figure>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="content has-text-centered">
      <p>
        ArXiv Paper Searcher Tool - Part of the <span style="color: var(--color-octo-red);"><b>Octo</b></span><span
        style="color: var(--color-tools-blue);"><b>Tools</b></span> Framework
      </p>
    </div>
  </footer>



  <script>
    let isFirstImage = true;
    function toggleImage() {
      const img = document.getElementById('exampleImage');
      if (isFirstImage) {
        img.src = 'example2.png';
      } else {
        img.src = 'example.png';
      }
      isFirstImage = !isFirstImage;
    }
  </script>
  
  <!-- Add this script before the closing body tag -->
  <script>
    fetch('metadata.json')
      .then(response => response.json())
      .then(data => {
        const metadataContent = document.getElementById('metadata-content');
        
        // Input Types
        let html = '<h3 class="is-5">Input Types:</h3><ul>';
        for (const [key, value] of Object.entries(data.input_types)) {
          html += `<li><strong>${key}:</strong> ${value}</li>`;
        }
        html += '</ul>';

        // Output Type
        html += `<h3 class="is-5">Output Type:</h3><p>${data.output_type}</p>`;

        // Demo Commands
        html += '<h3 class="is-5">Demo Commands:</h3>';
        data.demo_commands.forEach(demo => {
          html += `<div class="box">
            <pre><code>${demo.command}</code></pre>
            <p class="help">${demo.description}</p>
          </div>`;
        });

        // User Metadata
        html += '<h3 class="is-5">User Metadata:</h3><ul>';
        for (const [key, value] of Object.entries(data.user_metadata)) {
          html += `<li><strong>${key}:</strong> ${JSON.stringify(value)}</li>`;
        }
        html += '</ul>';

        metadataContent.innerHTML = html;
      })
      .catch(error => {
        console.error('Error loading metadata:', error);
        document.getElementById('metadata-content').innerHTML = 
          '<p class="has-text-danger">Error loading metadata. Please check the console for details.</p>';
      });
  </script>

</body>
</html>